"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[46393],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=d(n),u=i,h=m["".concat(s,".").concat(u)]||m[u]||c[u]||o;return n?a.createElement(h,r(r({ref:t},p),{},{components:n})):a.createElement(h,r({ref:t},p))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:i,r[1]=l;for(var d=2;d<o;d++)r[d]=n[d];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},10691:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var a=n(87462),i=(n(67294),n(3905));const o={title:"How to Create Dynamic Forms in React CRUD app with Ant Design",description:"Easy way to creating dynamic forms in React CRUD apps with Ant Design",slug:"react-crud-app-with-dynamic-form-ant-design",authors:"david_omotayo",tags:["react","refine","form-validation","dynamic-form","ant-design"],image:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/social.png",hide_table_of_contents:!1},r=void 0,l={permalink:"/blog/react-crud-app-with-dynamic-form-ant-design",source:"@site/blog/2022-11-17-antd-dynamic-form.md",title:"How to Create Dynamic Forms in React CRUD app with Ant Design",description:"Easy way to creating dynamic forms in React CRUD apps with Ant Design",date:"2022-11-17T00:00:00.000Z",formattedDate:"November 17, 2022",tags:[{label:"react",permalink:"/blog/tags/react"},{label:"refine",permalink:"/blog/tags/refine"},{label:"form-validation",permalink:"/blog/tags/form-validation"},{label:"dynamic-form",permalink:"/blog/tags/dynamic-form"},{label:"ant-design",permalink:"/blog/tags/ant-design"}],readingTime:23.26,hasTruncateMarker:!1,authors:[{name:"David Omotayo",title:"Frontend developer",url:"https://github.com/david4473",imageURL:"https://github.com/david4473.png",key:"david_omotayo"}],frontMatter:{title:"How to Create Dynamic Forms in React CRUD app with Ant Design",description:"Easy way to creating dynamic forms in React CRUD apps with Ant Design",slug:"react-crud-app-with-dynamic-form-ant-design",authors:"david_omotayo",tags:["react","refine","form-validation","dynamic-form","ant-design"],image:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/social.png",hide_table_of_contents:!1},prevItem:{title:"Error Handling With try, catch and finally Blocks in JavaScript",permalink:"/blog/javascript-try-catch-finally"},nextItem:{title:"React Props Explained with Examples",permalink:"/blog/react-props"},relatedPosts:[{title:"Building an Customizable Invoice Generator App with Refine, Strapi & Ant Design | Part II",permalink:"/blog/refine-invoice-generator",formattedDate:"March 1, 2022",authors:[{name:"Melih Ekinci",title:"Frontend Developer",url:"https://github.com/mlhekinci",imageURL:"https://github.com/mlhekinci.png",key:"melih"}],readingTime:13.745,date:"2022-03-01T00:00:00.000Z"},{title:"refine Joins the Hacktoberfest Fun",permalink:"/blog/hacktoberfest-refine",formattedDate:"October 4, 2022",authors:[{name:"Necati \xd6zmen",title:"Head of Content, refine",url:"https://github.com/necatiozmen",description:"Feeling Irie",github:"https://github.com/necatiozmen",twitter:"https://github.com/necatiozmen",linkedin:"https://github.com/necatiozmen",imageURL:"https://github.com/necatiozmen.png",key:"necati"}],readingTime:.88,date:"2022-10-04T00:00:00.000Z"},{title:"How to use Conditional Rendering in React",permalink:"/blog/react-conditional-rendering",formattedDate:"December 14, 2022",authors:[{name:"Deborah Emeni",title:"Software Engineer",url:"https://github.com/debemenitammy",imageURL:"https://github.com/debemenitammy.png",key:"deborah_emeni"}],readingTime:10.285,date:"2022-12-14T00:00:00.000Z"}],authorPosts:[{title:"React Hook Form Validation with Complete Examples",permalink:"/blog/react-hook-form-validation-examples",formattedDate:"September 27, 2022",authors:[{name:"David Omotayo",title:"Frontend developer",url:"https://github.com/david4473",imageURL:"https://github.com/david4473.png",key:"david_omotayo"}],readingTime:17.365,date:"2022-09-27T00:00:00.000Z"},{title:"Build a Progressive Web App (PWA) with Next.js",permalink:"/blog/next-js-pwa",formattedDate:"September 11, 2022",authors:[{name:"David Omotayo",title:"Frontend developer",url:"https://github.com/david4473",imageURL:"https://github.com/david4473.png",key:"david_omotayo"}],readingTime:18.495,date:"2022-09-11T00:00:00.000Z"}]},s={authorsImageUrls:[void 0]},d=[{value:"Introduction",id:"introduction",level:2},{value:"What is a dynamic form?",id:"what-is-a-dynamic-form",level:2},{value:"What is refine?",id:"what-is-refine",level:2},{value:"Project setup",id:"project-setup",level:2},{value:"Building the List page",id:"building-the-list-page",level:2},{value:"Creating a form",id:"creating-a-form",level:2},{value:"Adding form items",id:"adding-form-items",level:2},{value:"Adding form list",id:"adding-form-list",level:2},{value:"Using form actions",id:"using-form-actions",level:2},{value:"Adding icons",id:"adding-icons",level:2},{value:"Validation",id:"validation",level:2},{value:"Building the edit page",id:"building-the-edit-page",level:2},{value:"Conclusion",id:"conclusion",level:2},{value:"Example",id:"example",level:2}],p=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.kt)("div",t)},m=p("PromotionBanner"),c=p("StackblitzExample"),u={toc:d};function h(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"Forms are one of the most adaptable elements in web development. They come in distinct structures for various use cases."),(0,i.kt)("p",null,"However, due to the sporadic complexity of the information they collect, they tend to grow larger with several fields, which can be a big turnoff for most users."),(0,i.kt)("p",null,"To solve this user experience issue, developers devised a dynamic form, a simple yet complex form that can grow in size on command."),(0,i.kt)("p",null,"This guide will teach us how to create a dynamic form using Ant design and refine's React template."),(0,i.kt)("p",null,"Steps we'll cover:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#what-is-a-dynamic-form"},"What is a dynamic form?")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#what-is-refine"},"What is refine?")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#project-setup"},"Project setup")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#building-the-list-page"},"Building the List page")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#creating-a-form"},"Creating a form")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#adding-form-items"},"Adding form items")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#adding-form-list"},"Adding form list")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#using-form-actions"},"Using form actions")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#adding-icons"},"Adding icons")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#validation"},"Validation")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"#building-the-edit-page"},"Building the edit page"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Prerequisite")),(0,i.kt)("p",null,"To follow along with this tutorial, you need to have a good understanding of Typescript and the following:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The latest version of Node.js installed on your machine"),(0,i.kt)("li",{parentName:"ul"},"Fundamental knowledge of React and ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/refinedev/refine"},"refine")),(0,i.kt)("li",{parentName:"ul"},"Basic understanding of Ant design")),(0,i.kt)("h2",{id:"what-is-a-dynamic-form"},"What is a dynamic form?"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Dynamic forms")," are complex forms that change their layout according to the data they receive from users. In simpler terms, ",(0,i.kt)("strong",{parentName:"p"},"dynamic forms")," allow users to add or remove input fields according to their needs."),(0,i.kt)("p",null,"For example, say you want to create a form that lets users provide optional extended information about themselves, but you don't want to greet every user with a behemoth form. You can create a dynamic form that allows users to add or remove input fields according to their needs."),(0,i.kt)("p",null,"For context, here's an example of the final CRUD app product of the dynamic form we'll be building in this tutorial:"),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-1.gif",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"Ant design provides several components that let us build ",(0,i.kt)("strong",{parentName:"p"},"dynamic forms")," easily and rapidly. We'll learn more about these components later in this article."),(0,i.kt)("h2",{id:"what-is-refine"},"What is refine?"),(0,i.kt)("p",null,"refine is a headless React-based framework for rapidly building CRUD applications like admin panels, dashboards, and internal tools. The framework uses a collection of helper hooks, components, and data-providers that give you complete control over your application's user interface."),(0,i.kt)("p",null,"There are a lot of benefits to using refine in your applications, to name a few:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"refine is UI agnostic by default; its headless design lets it integrate seamlessly with different UI frameworks and custom designs."),(0,i.kt)("li",{parentName:"ul"},"it has an easy learning curve"),(0,i.kt)("li",{parentName:"ul"},"refine is also backend agnostic by default; it has support for every backend technology."),(0,i.kt)("li",{parentName:"ul"},"Authentication, state management, data fetching, and routing come out of the box."),(0,i.kt)("li",{parentName:"ul"},"refine is open source, so you don't have to worry about constraints.")),(0,i.kt)("p",null,"One of refine's core features is its out-of-the-box integration with UI frameworks such as MUI and Ant design. We'll look at how to use the latter in this guide."),(0,i.kt)("h2",{id:"project-setup"},"Project setup"),(0,i.kt)("p",null,"Before we go any further, let's set up a refine sample CRUD app project and install the required packages using superplate."),(0,i.kt)("p",null,"Superplate is a CLI tool for quickly bootstrapping a refine project. The tool provides the option of setting up a headless refine project or a project paired with third-party UI libraries such as ",(0,i.kt)("a",{parentName:"p",href:"https://ant.design/"},"Ant design")," and ",(0,i.kt)("a",{parentName:"p",href:"https://mui.com/"},"Material UI"),". We'll be using the latter for this tutorial."),(0,i.kt)("p",null,"As a first step, run the following command on your command line tool:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"npx superplate-cli -p refine-react dynamic-form\n")),(0,i.kt)("p",null,"The command will prompt you to choose your preferences for the project."),(0,i.kt)("p",null,"Select the following options to proceed:"),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-cli.png",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"Once the installation is complete, run the commands below to cd into the project folder and start the development server:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"cd dynamic-form\nnpm run dev\n")),(0,i.kt)("p",null,"After running the command, the development server will automatically preview our app in the default browser. If it doesn't, open the browser manually and navigate to ",(0,i.kt)("a",{parentName:"p",href:"http://localhost:3000"},"http://localhost:3000"),"."),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-dashboard.png",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"To finish setting up, we'll create a ",(0,i.kt)("inlineCode",{parentName:"p"},"PostCreate"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"PostList"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"PostEdit")," pages and pass them as values to the ",(0,i.kt)("inlineCode",{parentName:"p"},"create"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"list"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"edit"),"  properties of the ",(0,i.kt)("inlineCode",{parentName:"p"},"resources")," prop in the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Refine>")," component, which you can find inside the ",(0,i.kt)("inlineCode",{parentName:"p"},"App.tsx")," file."),(0,i.kt)("p",null,"We'll use the ",(0,i.kt)("inlineCode",{parentName:"p"},"PostList")," page to display a list of data from a fake API endpoint, to which we'll also post the submitted data from our form."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"PostCreate")," page is where we'll create our ",(0,i.kt)("strong",{parentName:"p"},"dynamic form")," for posting new records to the API."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"PostEdit")," page will house a copy of the ",(0,i.kt)("strong",{parentName:"p"},"dynamic form")," for editing and updating records."),(0,i.kt)("p",null,"To begin with, create a ",(0,i.kt)("inlineCode",{parentName:"p"},"pages"),"  folder inside the ",(0,i.kt)("inlineCode",{parentName:"p"},"src")," folder and add a ",(0,i.kt)("inlineCode",{parentName:"p"},"PostCreate.tsx"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"PostList.tsx"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"PostEdit.tsx")," files, as shown below."),(0,i.kt)("br",null),(0,i.kt)("div",{className:"centered-image"},(0,i.kt)("img",{style:{alignSelf:"center",width:"300px"},src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-folder.png",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"To prevent Typescript from throwing an error, you can add a placeholder code in each file like so:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'import  React  from "react";\n\nfunction  PostCreate( Props:  any) {\n    return  <div>PostCreate</div>;\n}\n\nexport  default  PostCreate;\n')),(0,i.kt)("p",null,"Next, open the ",(0,i.kt)("inlineCode",{parentName:"p"},"App.tsx")," file and import all three files at the top of the component:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import PostCreate  from "pages/PostCreate";\nimport PostList  from "pages/PostList";\nimport PostEdit  from "pages/PostEdit";  \n')),(0,i.kt)("p",null,"Then, create a ",(0,i.kt)("inlineCode",{parentName:"p"},"resources"),"  prop on the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Refine>")," component and add the pages imports as the ",(0,i.kt)("inlineCode",{parentName:"p"},"create"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"list"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"edit")," property's values, respectively:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/App.tsx"',title:'"src/App.tsx"'},'import { Refine } from  "@pankod/refine-core";\nimport {\nnotificationProvider,\nLayout,\nReadyPage,\nErrorComponent,\n} from  "@pankod/refine-antd";\nimport  "@pankod/refine-antd/dist/styles.min.css";\nimport  routerProvider  from  "@pankod/refine-react-router-v6";\nimport  dataProvider  from  "@pankod/refine-simple-rest";\nimport PostCreate  from "pages/PostCreate";\nimport PostList  from "pages/PostList";\nimport PostEdit  from "pages/PostEdit";\n\nfunction  App() {\nreturn (\n<Refine\n    notificationProvider={notificationProvider}\n    Layout={Layout}\n    ReadyPage={ReadyPage}\n    catchAll={<ErrorComponent  />}\n    routerProvider={routerProvider}\n    dataProvider={dataProvider("https://api.fake-rest.refine.dev")}\n    resources={[\n        {\n        name: "users",\n        list: PostList,\n        create: PostCreate,\n        edit: PostEdit\n        },\n    ]}\n/>\n);\n}\n\nexport  default  App;\n')),(0,i.kt)("p",null,"Notice that we're passing a URL to the dataProvider prop. This is our fake API URL; refine will fetch and post data records from and to the API using this URL."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," prop in the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Refine>")," component is what we're using to specify which endpoint we want to work with in the API. In our case, we're working with the ",(0,i.kt)("inlineCode",{parentName:"p"},"users")," endpoint."),(0,i.kt)("p",null,"This is all refine needs to handle our app's fetch and post functionalities. Next, we'll set up the list page and create a table that we'll use to display a list of the data we get from the API."),(0,i.kt)("h2",{id:"building-the-list-page"},"Building the List page"),(0,i.kt)("p",null,"To create our list, we will use Ant design's ",(0,i.kt)("inlineCode",{parentName:"p"},"<Table>")," component to render the data from our API, row by row, as a table."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"<Table>")," component will simplify our workflow, and fortunately for us, it integrates well with refine. Functionalities such as pagination and routing are implemented out of the box."),(0,i.kt)("p",null,"Moving on, navigate to the ",(0,i.kt)("inlineCode",{parentName:"p"},"PostList.tsx")," file and add the following code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostList.tsx"',title:'"src/pages/PostList.tsx"'},'import  React  from "react";\nimport { List, Table, useTable, Space, EditButton } from  "@pankod/refine-antd";\n\ninterface  IFormValue {\n    name:  string;\n    email:  string;\n    skills:  string;\n    id:  number;\n}\n\nexport  default  function  PostList() {\nconst { tableProps } =  useTable<IFormValue>();\n\nreturn (\n    <List>\n        <Table  {...tableProps}  rowKey="id">\n            <Table.Column  dataIndex="firstName"  title="First Name"  />\n            <Table.Column  dataIndex="email"  title="Email"  />\n            <Table.Column  dataIndex="skills"  title="Skills"  />\n        </Table>\n    </List>\n);\n}\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"useTable")," in the code above is a refine hook that fetches data from an API and wraps it with various helper hooks that make it compatible with Ant's ",(0,i.kt)("inlineCode",{parentName:"p"},"<Table>")," component."),(0,i.kt)("p",null,"In the code above, we're using the ",(0,i.kt)("inlineCode",{parentName:"p"},"useTable")," hook to fetch data from our endpoint and pass its value to the Table component via the ",(0,i.kt)("inlineCode",{parentName:"p"},"tableprops")," property. Then we set unique keys for each record from the API using the ",(0,i.kt)("inlineCode",{parentName:"p"},"rowkey"),"  prop."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"}," refine handles every fetch request under the hood. The ",(0,i.kt)("inlineCode",{parentName:"p"},"useTable")," hook is one of many hooks it uses to distribute API responses and manage functionalities across its components.")),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"<Table.column>")," component is a sub-component of the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Table>")," component, it is used for formatting each field shown in the table."),(0,i.kt)("p",null,"For example, suppose we want to render two more rows for a ",(0,i.kt)("inlineCode",{parentName:"p"},"categories")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"date")," property. We'd have to add two more ",(0,i.kt)("inlineCode",{parentName:"p"},"<Table.column>")," components within the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Table>")," with a ",(0,i.kt)("inlineCode",{parentName:"p"},"title")," prop value of  ",(0,i.kt)("inlineCode",{parentName:"p"},"categories")," and  ",(0,i.kt)("inlineCode",{parentName:"p"},"date")," like so:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'<Table.Column  dataIndex="categories"  title="Categories"  />\n<Table.Column  dataIndex="date"  title="Date"  />\n')),(0,i.kt)("p",null,"On the other hand, the ",(0,i.kt)("inlineCode",{parentName:"p"},"dataIndex")," property is used to map the component to a matching key from the API response. It tells a ",(0,i.kt)("inlineCode",{parentName:"p"},"<Table.column>")," component what property from the response object to display on its row."),(0,i.kt)("p",null,"That's it for the list page, save your progress and go back to the browser. You should see a nicely rendered table with pagination and routing implemented automatically."),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-list-page.gif",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"As you can see, the create button routes us to the ",(0,i.kt)("inlineCode",{parentName:"p"},"Create")," page when clicked. Right now, it just renders the placeholder text we set earlier. Next, we will set up our ",(0,i.kt)("strong",{parentName:"p"},"dynamic form")," inside the ",(0,i.kt)("inlineCode",{parentName:"p"},"PostCreate")," page."),(0,i.kt)("h2",{id:"creating-a-form"},"Creating a form"),(0,i.kt)("p",null,"Ant design also provides a form component that ships with various functionalities such as data collection, styling, and data scope management out of the box. The component streamlines the process of quickly building a form in React."),(0,i.kt)("p",null,"To create the form, first, navigate to the ",(0,i.kt)("inlineCode",{parentName:"p"},"PostCreate.tsx"),"  file and import the ",(0,i.kt)("inlineCode",{parentName:"p"},"Create"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Form"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Button"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Input"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Icons"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Space"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"useForm"),"  components and hook from ",(0,i.kt)("inlineCode",{parentName:"p"},"@pankod/refine-antd"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'import { Create, Button, Form, Input, Space, Icons, useForm } from "@pankod/refine-antd";\n')),(0,i.kt)("p",null,"These are all the UI components and hooks we'll use for the entirety of the ",(0,i.kt)("strong",{parentName:"p"},"PostCreate")," page setup."),(0,i.kt)("p",null,"Next, add the following code to the component to render the form:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'import  React from "react";\nimport { Create, Button, Form, Input, Space, Icons, useForm } from "@pankod/refine-antd";\n\ninterface  IFormValue {\n    name:  string;\n    email:  string;\n    skills:  string;\n}\n\nexport  default  function  PostCreate(Props: any) {\nconst { formProps, saveButtonProps } =  useForm<IFormValue>();\n\nreturn (\n    <Create saveButtonProps={saveButtonProps}>\n        <Form  size={"large"} {...formProps}>\n            <Input  placeholder= "e.g John"/>\n            <Input  placeholder="e.g john@email.com"  />\n        </Form>\n    </Create>\n);\n}\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"useForm"),"  is a refine hook for handling form data. It offers adapters that let refine integrate with Ant design's ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form>")," component."),(0,i.kt)("p",null,"In the code above, we destructured the ",(0,i.kt)("strong",{parentName:"p"},"formProps")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"saveButtonProps")," properties from the ",(0,i.kt)("inlineCode",{parentName:"p"},"useForm")," hook, then we passed them to the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Create>")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form>")," components, respectively. "),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"formProps")," property contains all the necessary properties for the form to handle the Post request for its data automatically.  "),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"saveButtonProps")," property handles the submission functionality of the form via the save button."),(0,i.kt)("p",null,"If you save your progress at this point and go back to the browser, you'll notice that our form still lacks the basic functionalities of a form and looks desolate."),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-create.png",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("h2",{id:"adding-form-items"},"Adding form items"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form.item>")," component is a sub-component of the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form>")," component. It accepts several props for configuring and adding basic or custom validation to input fields."),(0,i.kt)("p",null,"Here's a list of some of its props:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"name"),": This is for setting a unique name for an input field."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"label"),": This prop is for assigning a label to input fields"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"rules"),": This prop is for setting custom validation rules on an input field")),(0,i.kt)("p",null,"Since it is a sub-component of the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form>")," component, we don't have to import any other components to use it. All we have to do is wrap it around our form's input fields like so:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'<Create saveButtonProps={saveButtonProps}>\n    <Form {...formProps}  layout="vertical"  size={"large"}>\n        <Form.Item  name={"firstName"}  label="First Name"  style={{ maxWidth:  "600px" }}>\n            <Input  placeholder= "e.g John"/>\n        </Form.Item>\n        <Form.Item\n            name={"email"}\n            label= "Email"\n            style={{ maxWidth:  "600px" }}\n        >\n            <Input  placeholder= "e.g developer"/>\n        </Form.Item>\n    </Form>;\n</Create>\n')),(0,i.kt)("p",null,"Here, we're using the ",(0,i.kt)("inlineCode",{parentName:"p"},"name")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"label"),"  props to assign each input field a unique name and a label element, respectively."),(0,i.kt)("p",null,"We also gave the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form>")," component a ",(0,i.kt)("inlineCode",{parentName:"p"},"layout")," prop with a ",(0,i.kt)("inlineCode",{parentName:"p"},"vertical")," value. This will let the labels display on a block layout rather than the default inline layout."),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-items.png",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"We can also add a basic validation to both fields by passing an array of objects with a ",(0,i.kt)("inlineCode",{parentName:"p"},"required")," property to the ",(0,i.kt)("inlineCode",{parentName:"p"},"rules")," prop on the form item component:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'<Form.Item\n    name={"firstName"}\n    label= "First Name"\n    style={{ maxWidth:  "600px" }}\n    // highlight-next-line\n    rules={[ { required:  true}]}\n>\n    <Input  placeholder= "e.g John"/>\n</Form.Item>\n')),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-items-2.png",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"In the subsequent sections, we'll learn how to add a more complex validation to our form. For now, this will do."),(0,i.kt)("hr",null),(0,i.kt)(m,{title:"Is your CRUD app overloaded with technical debt?",image:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/img/generic_banner.png",mdxType:"PromotionBanner"}),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"adding-form-list"},"Adding form list"),(0,i.kt)("p",null,"Much like the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form.item>")," component, Ant design also provides a ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form.list>")," sub-component that lets us create dynamic fields that can be added and removed on command."),(0,i.kt)("p",null,"The component accepts a child function with three parameters:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"fields"),": The fields parameter is used to create a list of dynamic fields"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"operations"),": The operations parameter is an object with two action functions for adding and removing fields on the list."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"errors"),": This parameter does what its name implies - it is used to handle errors for validation.")),(0,i.kt)("p",null,"To add a list to the form, first, declare the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form.list>")," component and add the following code within it."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'<Form.List  name={"skills"}>\n    {(fields, operator) => {\n        return (\n        <>\n            {fields.map((field, index) => {\n                return (\n                <div  key={field.key}>\n                    <Form.Item\n                        name={field.name}\n                        label={`skill - ${index  +  1}`}\n                        rules={[{ required:  true }]}\n                    >\n                        <Input  placeholder= "e.g javascript"/>\n                    </Form.Item>\n                </div>\n                );\n            })}\n            <Form.Item>\n                <Button  type=" dashed" block>\n                    Add a skill\n                </Button>\n            </Form.Item>\n        </>\n    );\n    }}\n</Form.List>\n')),(0,i.kt)("p",null,"In the code above, we declared a function and a ",(0,i.kt)("inlineCode",{parentName:"p"},"Add a skill")," button within the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form.list>")," component. We passed the ",(0,i.kt)("inlineCode",{parentName:"p"},"fields")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"operator")," parameters to the function, and then we returned an iteration of the ",(0,i.kt)("inlineCode",{parentName:"p"},"fields")," parameter using a ",(0,i.kt)("inlineCode",{parentName:"p"},"map"),"  method. Inside the map callback function, we're returning a ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form.item>")," and a nested ",(0,i.kt)("inlineCode",{parentName:"p"}," <Input>")," component for every dynamic field."),(0,i.kt)("p",null,"That's all we need for the dynamic fields.  "),(0,i.kt)("p",null,"However, if you save your progress and go back to the browser, you won't be able to add the dynamic fields with the ",(0,i.kt)("inlineCode",{parentName:"p"},"Add a skill"),"  button just yet."),(0,i.kt)("p",null,"This is because we're yet to add actions that'll let us add and remove fields on the form. We will be doing this using the ",(0,i.kt)("inlineCode",{parentName:"p"},"operator"),"  parameter in the next section."),(0,i.kt)("h2",{id:"using-form-actions"},"Using form actions"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"operator"),"  parameter exposes two function properties, ",(0,i.kt)("inlineCode",{parentName:"p"},"add()")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"remove()")," , that let us add and delete dynamic fields in a form. They are relatively straightforward to implement; all we have to do is call them in a button's event handler. In our case, the ",(0,i.kt)("inlineCode",{parentName:"p"},"Add a skill"),"  button."),(0,i.kt)("p",null,"What we can do first is destructure the ",(0,i.kt)("inlineCode",{parentName:"p"},"add()"),"  and ",(0,i.kt)("inlineCode",{parentName:"p"},"remove()"),"  functions from the ",(0,i.kt)("inlineCode",{parentName:"p"},"operator")," parameter and add an ",(0,i.kt)("inlineCode",{parentName:"p"},"onClick")," handler, with the ",(0,i.kt)("inlineCode",{parentName:"p"},"add()"),"  function passed in, to the ",(0,i.kt)("inlineCode",{parentName:"p"},"Add a skill"),"  button:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'<Form.List  name={"skills"}>\n    {(fields, { add, remove }) => {\n        return (\n            <>\n                {fields.map((field, index) => {\n                    return (\n                    <div  key={field.key}>\n                        <Form.Item\n                            name={field.name}\n                            label={`skill - ${index  +  1}`}\n                            style={{ width:  "400px" }}\n                        >\n                            <Input  placeholder= "e.g javascript"/>\n                        </Form.Item>\n                    </div>\n                    );\n                })}\n                <Form.Item>\n                    <Button\n                        type= "dashed"\n                        block\n                        onClick={() =>  add()}\n                        style={{ maxWidth:  "600px" }\n                    >\n                        Add a skill\n                    </Button>\n                </Form.Item>\n            </>\n        );\n    }}\n</Form.List>\n')),(0,i.kt)("p",null,"Now, the ",(0,i.kt)("inlineCode",{parentName:"p"},"Add a skill")," button is functional. If you save your progress and test it out, you should be able to add dynamic fields to the form."),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-actions.gif",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"Next, we'll create a button for deleting unwanted fields using the ",(0,i.kt)("inlineCode",{parentName:"p"},"remove()"),"  action."),(0,i.kt)("p",null,"To do so, create a button below the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form.item>")," component inside the map callback function, then add an ",(0,i.kt)("inlineCode",{parentName:"p"},"onClick")," handler with the ",(0,i.kt)("inlineCode",{parentName:"p"},"remove()")," function, just as we did for the ",(0,i.kt)("inlineCode",{parentName:"p"},"add()")," function in the previous example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'<Create saveButtonProps={saveButtonProps}>\n    <Form {...formprops}  layout="vertical"  size={"large"}>\n        <Form.Item name={"firstName"}  label="First Name"  style={{ maxWidth:  "600px" }}>\n            <Input  placeholder= "e.g John"/>\n        </Form.Item>\n        <Form.Item\n        name={"email"}\n        label= "Email"\n        style={{ maxWidth:  "600px" }}\n        >\n            <Input  placeholder="e.g john@email.com"  />\n        </Form.Item>\n        <Form.List  name={"skills"}>\n            {(fields, { add, remove }) => {\n                return (\n                <>\n                    {fields.map((field, index) => {\n                        return (\n                            <div  key={field.key}>\n                                <Form.Item\n                                name={field.name}\n                                label={`skill - ${index  +  1}`}\n                                style={{ width:  "400px" }}\n                                >\n                                    <Input  placeholder= "e.g javascript"/>\n                                </Form.Item>\n                                <Button  danger  onClick={() =>  remove(field.name)}>\n                                delete\n                                </Button>\n                            </div>\n                        );\n                    })}\n                    <Form.Item>\n                        <Button\n                        type= "dashed"\n                        block\n                        style={{ maxWidth:  "600px" }}\n                        onClick={() =>  add()}\n                        >\n                            Add a skill\n                        </Button>\n                    </Form.Item>\n                </>\n                );\n            }}\n        </Form.List>\n    </Form>\n</Create>\n')),(0,i.kt)("p",null,"Unlike the former, we're passing the field name as an argument to the ",(0,i.kt)("inlineCode",{parentName:"p"},"remove()"),"  function. Since each name is unique to its respective component, the function will only delete the field whose button is clicked."),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-actions-2.gif",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"As you can see, our form is not aesthetically appealing. Next, we'll look at how we can replace the ",(0,i.kt)("inlineCode",{parentName:"p"},"delete")," button with an icon and place it alongside the input box."),(0,i.kt)("h2",{id:"adding-icons"},"Adding icons"),(0,i.kt)("p",null,"Ant design is a full-fledged UI library, providing a collection of free icons that we can use to build interactive user interfaces."),(0,i.kt)("p",null,"Unlike most design libraries, Ant design provides its icons separately from the base package. so to use it, we'll have to install it separately."),(0,i.kt)("p",null,"Fortunately for us, refine comes bundled with both the base package and the icon package of Ant design, so we don't have to waste any more time installing the package.  "),(0,i.kt)("p",null,"All we have to do is append an icon name to the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Icons>")," component we imported earlier and pass it to the ",(0,i.kt)("inlineCode",{parentName:"p"},"icon")," prop on the delete ",(0,i.kt)("inlineCode",{parentName:"p"},"<Button>")," component like so:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'<div key={field.key} >\n    <Form.Item\n        name={field.name}\n        label={`skill - ${index  +  1}`}\n        style={{ width:  "400px" }}\n    >\n        <Input  placeholder= "e.g javascript"/>\n    </Form.Item>\n    <Button\n        danger\n        onClick={() =>  remove(field.name)}\n        style={{ position: "absolute", top: "47px"}}\n        icon={<Icons.DeleteOutlined />}\n    />\n</div>\n')),(0,i.kt)("p",null,"You can find the list of icon names on Ant design's ",(0,i.kt)("a",{parentName:"p",href:"https://ant.design/components/icon/"},"official documentation"),"."),(0,i.kt)("p",null,"To place the icon on the same line with the Input field, replace the ",(0,i.kt)("inlineCode",{parentName:"p"},"div")," wrapping the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form.item>")," with a ",(0,i.kt)("inlineCode",{parentName:"p"},"<Space>")," component and give it a ",(0,i.kt)("inlineCode",{parentName:"p"},"direction"),"  prop with a ",(0,i.kt)("inlineCode",{parentName:"p"},"horizontal")," value."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'<Space\n    key={field.key}\n    direction= "horizontal"\n    style={{ position: "relative"}}\n>\n<Form.Item\n    name={field.name}\n    label={`skill - ${index  +  1}`}\n    style={{ width:  "400px" }}\n>\n    <Input  placeholder= "e.g javascript"/>\n</Form.Item>\n    <Button\n        danger\n        onClick={() =>  remove(field.name)}\n        style={{ position: "absolute", top: "47px"}}\n        icon={<Icons.DeleteOutlined  />}\n    />\n</Space>\n')),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-icon.png",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"Using the same process, we can also add icons to the  ",(0,i.kt)("inlineCode",{parentName:"p"},"Add a skill")," button."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},"<Button\n    block\n    onClick={() => add()}\n    icon={<Icons.PlusOutlined  />}\n>\n    Add a skill\n</Button>\n")),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-icon-2.gif",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"That's it! We've successfully built a ",(0,i.kt)("strong",{parentName:"p"},"dynamic form")," that lets users add and delete fields on demand."),(0,i.kt)("p",null,"To finish up, we'll add custom validation to our fields and look at how we can handle submission on our form."),(0,i.kt)("h2",{id:"validation"},"Validation"),(0,i.kt)("p",null,"We've seen how Ant handles basic validation on input fields using the Form. item's ",(0,i.kt)("inlineCode",{parentName:"p"},"rule")," prop. In this section, we'll use the property to add custom validations to the fields in our form."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"rule")," prop accepts an array of config objects that returns a promise. Each object accepts a property that specifies how the fields should validate its data, and a ",(0,i.kt)("inlineCode",{parentName:"p"},"message")," property, that accepts a string of messages to be displayed when there's an error."),(0,i.kt)("p",null,"Some of these properties include;"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"required"),": This property is for initialising validation on an input field."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"min"),": This property is for setting the minimum characters allowed on a field."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"max"),": This is for setting the maximum characters allowed on a field."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"whitespace"),": This property is for preventing whitespace on a field. It is mostly used on a password input field."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"message"),": This property is for displaying error messages.")),(0,i.kt)("p",null,"We added the ",(0,i.kt)("inlineCode",{parentName:"p"},"required")," property to the ",(0,i.kt)("inlineCode",{parentName:"p"},"rule"),"  props in the previous sections. Now, we'll add other properties accompanied by the ",(0,i.kt)("inlineCode",{parentName:"p"},"message")," property for displaying personalized error messages."),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Show PostCreate.tsx code"),(0,i.kt)("p",null,(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'<Create saveButtonProps={saveButtonProps}>\n  <Form {...formprops} layout="vertical" size={"large"}>\n    <Form.Item\n      name={"firstName"}\n      label="First Name"\n      style={{ maxWidth: "600px" }}\n      rules={[\n        { required: true, message: "please enter your first name" },\n        { whitespace: true },\n        {\n          min: 3,\n          message: "field must be at least 3 characters",\n        },\n      ]}\n    >\n      <Input placeholder="e.g John" />\n    </Form.Item>\n    <Form.Item\n      name={"email"}\n      label="Email"\n      style={{ maxWidth: "600px" }}\n      rules={[\n        {\n          required: true,\n          message: "please enter your email: e.g john@email.com",\n        },\n        { whitespace: true },\n        {\n          min: 3,\n          message: "field must be at least 3 characters",\n        },\n      ]}\n    >\n      <Input placeholder="e.g john@email.com" />\n    </Form.Item>\n    <Form.List name={"skills"}>\n      {(_fields_, { _add_, _remove_ }) => {\n        return (\n          <>\n            {_fields_.map((_field_, _index_) => {\n              return (\n                <Space\n                  key={_field_.key}\n                  direction="horizontal"\n                  style={{ display: "flex", position: "relative" }}\n                >\n                  <Form.Item\n                    name={_field_.name}\n                    label={`skill - ${_index_ + 1}`}\n                    style={{ width: "400px" }}\n                    rules={[\n                      { required: true, message: "please enter a skill" },\n                      { whitespace: true },\n                      {\n                        min: 3,\n                        message: "field must be at least 3 characters",\n                      },\n                    ]}\n                  >\n                    <Input placeholder="e.g javascript" />\n                  </Form.Item>\n                  <Button\n                    danger\n                    onClick={() => remove(_field_.name)}\n                    style={{ position: "absolute", top: "47px" }}\n                    icon={<Icons.DeleteOutlined />}\n                  ></Button>\n                </Space>\n              );\n            })}\n            <Form.Item>\n              <Button\n                icon={<Icons.PlusOutlined />}\n                type="dashed"\n                block\n                style={{ maxWidth: "600px" }}\n                onClick={() => add()}\n              >\n                Add a skill\n              </Button>\n            </Form.Item>\n          </>\n        );\n      }}\n    </Form.List>\n  </Form>\n</Create>;\n')))),(0,i.kt)("p",null,"To spice things up, we can add feedback icons that display according to the state of the input fields: a red crossed circle when there's an error and a green checkmark when there's none."),(0,i.kt)("p",null,"All we need to do is add a ",(0,i.kt)("inlineCode",{parentName:"p"},"hasFeedback")," prop to each ",(0,i.kt)("inlineCode",{parentName:"p"},"<Form.item>")," like so:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostCreate.tsx"',title:'"src/pages/PostCreate.tsx"'},'<Form.Item\n  name={"first Name"}\n  label="Full Name"\n  style={{ maxWidth: "600px" }}\n  rules={[\n    { required: true, message: "please enter your name" },\n    { whitespace: true },\n    {\n      min: 3,\n      message: "field must be at least 3 characters",\n    },\n  ]}\n  hasFeedback\n>\n  <Input placeholder="e.g John" />\n</Form.Item>;\n')),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-validation.gif",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"There you have it, an adequately validated ",(0,i.kt)("strong",{parentName:"p"},"dynamic form")," without the help of an external schema library."),(0,i.kt)("p",null,"Now, our form is ready to validate input values and perform ",(0,i.kt)("inlineCode",{parentName:"p"},"POST")," requests to our fake API endpoint."),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-validation-2.gif",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"What's left for us now is setting up the edit page to update fetched records from the API."),(0,i.kt)("br",null),(0,i.kt)("div",null,(0,i.kt)("a",{href:"https://discord.gg/refine"},(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/website/static/img/discord_big_blue.png",alt:"discord banner"}))),(0,i.kt)("h2",{id:"building-the-edit-page"},"Building the edit page"),(0,i.kt)("p",null,"As you might have noticed earlier, refine didn't automatically add an edit button to the table on the List page. So before we set up the edit page, we must first add an edit button that will route users to the edit page when clicked."),(0,i.kt)("p",null,"To do this, go back to the ",(0,i.kt)("inlineCode",{parentName:"p"},"<PostList>")," file, import the ",(0,i.kt)("inlineCode",{parentName:"p"},"<EditButton>")," component, and add a new ",(0,i.kt)("inlineCode",{parentName:"p"},"<Table.Column>")," component with the following props:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostList.tsx"',title:'"src/pages/PostList.tsx"'},'import React from "react";\nimport { List, Table, useTable, Space, EditButton } from "@pankod/refine-antd";\n\ninterface IFormValue {\n    name: string;\n    email: string;\n    skills: string;\n    id: number;\n}\n\nexport default function PostList() {\n    const { tableProps } = useTable<IFormValue>();\n    return (\n        <List>\n            <Table {...tableProps} rowKey="id">\n                <Table.Column dataIndex="firstName" title="First Name" />\n                <Table.Column dataIndex="email" title="Email" />\n                <Table.Column dataIndex="skills" title="Skills" />\n                <Table.Column<IFormValue>\n                    title= "Actions"\n                    dataIndex= "actions"\n                    render={(__text_, _record_): React.ReactNode => {\n                        return (\n                        <Space>\n                            <EditButton size="small" recordItemId={_record_.id} hideText />\n                        </Space>\n                        );\n                    }}\n                    />\n            </Table>\n        </List>\n    );\n}\n')),(0,i.kt)("p",null,"The  ",(0,i.kt)("inlineCode",{parentName:"p"},"<EditButton>")," component uses Ant's ",(0,i.kt)("inlineCode",{parentName:"p"},"Button")," component and refine's ",(0,i.kt)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/core/hooks/navigation/useNavigation/"},(0,i.kt)("inlineCode",{parentName:"a"},"useNavigation")),"  hook under the hood. It displays an edit icon with the functionality of redirecting users to the edit page of a record, whose ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," is passed to the ",(0,i.kt)("inlineCode",{parentName:"p"},"recordItemId")," prop of the component, when clicked on."),(0,i.kt)("p",null,"Refer to the ",(0,i.kt)("inlineCode",{parentName:"p"},"<EditButton>")," ",(0,i.kt)("a",{parentName:"p",href:"https://refine.dev/docs/api-reference/antd/components/buttons/edit-button/"},"documentation")," to learn more about the component."),(0,i.kt)("p",null,"In the example above, we're using the ",(0,i.kt)("inlineCode",{parentName:"p"},"render")," prop to choose the appropriate record on the table, and passing its ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," to the ",(0,i.kt)("inlineCode",{parentName:"p"},"recordItemId"),"  prop on the ",(0,i.kt)("inlineCode",{parentName:"p"},"<EditButton>")," component. This way, the button will only redirect us to the edit page of the record being clicked on."),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-edit-page.gif",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"Next, navigate back to the ",(0,i.kt)("inlineCode",{parentName:"p"},"PostEdit")," file and replace the placeholder with the following code:"),(0,i.kt)("details",null,(0,i.kt)("summary",null,"Show PostEdit code"),(0,i.kt)("p",null,(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/pages/PostEdit.tsx"',title:'"src/pages/PostEdit.tsx"'},'import React from "react";\nimport {\n  useForm,\n  Form,\n  Input,\n  Edit,\n  Icons,\n  Button,\n  Space,\n} from "@pankod/refine-antd";\n\ninterface IFormValue {\n  name: string;\n  email: string;\n  skills: string;\n}\n\nexport default function PostEdit(Props: any) {\n  const { formProps, saveButtonProps } = useForm<IFormValue>();\n  return (\n    <Edit saveButtonProps={saveButtonProps}>\n      <Form {...formProps} size="large" layout="vertical">\n        <Form.Item\n          name={"firstName"}\n          label="First Name"\n          style={{ maxWidth: "600px" }}\n          rules={[\n            { required: true, message: "please enter your first name" },\n            {\n              whitespace: true,\n            },\n            {\n              min: 3,\n              message: "field must be at least 3 characters",\n            },\n          ]}\n          hasFeedback\n        >\n          <Input placeholder="e.g John" />\n        </Form.Item>\n        <Form.Item\n          name={"email"}\n          label="Email"\n          style={{ maxWidth: "600px" }}\n          rules={[\n            {\n              required: true,\n              message: "please enter your email: e.g john@email.com",\n            },\n            {\n              whitespace: true,\n            },\n            {\n              min: 3,\n              message: "field must be at least 3 characters",\n            },\n          ]}\n          hasFeedback\n        >\n          <Input placeholder="e.g john@email.com" />\n        </Form.Item>\n        <Form.List name={"skills"}>\n          {(fields, { add, remove }) => {\n            return (\n              <>\n                {fields.map((field, index) => {\n                  return (\n                    <Space\n                      key={field.key}\n                      direction="horizontal"\n                      style={{ display: "flex", position: "relative" }}\n                    >\n                      <Form.Item\n                        name={field.name}\n                        label={`skill - ${index + 1}`}\n                        style={{ width: "400px" }}\n                        rules={[\n                          { required: true, message: "please enter a skill" },\n                          {\n                            whitespace: true,\n                          },\n                          {\n                            min: 3,\n                            message: "field must be at least 3 characters",\n                          },\n                        ]}\n                        hasFeedback\n                      >\n                        <Input placeholder="e.g javascript" />\n                      </Form.Item>\n                      <Button\n                        danger\n                        onClick={() => remove(field.name)}\n                        style={{ position: "absolute", top: "47px" }}\n                        icon={<Icons.DeleteOutlined />}\n                      ></Button>\n                    </Space>\n                  );\n                })}\n                <Form.Item>\n                  <Button\n                    icon={<Icons.PlusOutlined />}\n                    type="dashed"\n                    block\n                    style={{ maxWidth: "600px" }}\n                    onClick={() => add()}\n                  >\n                    Add a skill\n                  </Button>\n                </Form.Item>\n              </>\n            );\n          }}\n        </Form.List>\n      </Form>\n    </Edit>\n  );\n}\n')))),(0,i.kt)("p",null,"This is a duplicate of the form component we created inside the ",(0,i.kt)("inlineCode",{parentName:"p"},"PostCreate")," page earlier, with the exception of the ",(0,i.kt)("inlineCode",{parentName:"p"},"<Edit>")," component we're using to wrap the form instead of the former - ",(0,i.kt)("inlineCode",{parentName:"p"},"<Create>")," component."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"<Edit>")," is a refine component for wrapping form components that are meant for editing and updating data responses. The ",(0,i.kt)("inlineCode",{parentName:"p"},"<Edit>")," component provides actions such as ",(0,i.kt)("inlineCode",{parentName:"p"},"save"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"delete"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"refresh")," buttons that can be used in a form."),(0,i.kt)("div",{class:"img-container"},(0,i.kt)("div",{class:"window"},(0,i.kt)("div",{class:"control red"}),(0,i.kt)("div",{class:"control orange"}),(0,i.kt)("div",{class:"control green"})),(0,i.kt)("img",{src:"https://refine.ams3.cdn.digitaloceanspaces.com/blog/2022-11-17-antd-dynamic-form/dynamic-form-edit-page-2.gif",alt:"dynamic form antd"})),(0,i.kt)("br",null),(0,i.kt)("p",null,"That's it. We've successfully built an application that uses an API to post and edit response records using a ",(0,i.kt)("strong",{parentName:"p"},"dynamic form"),"."),(0,i.kt)("p",null,"As a challenge, visit refine's ",(0,i.kt)("a",{parentName:"p",href:"https://refine.dev/docs/"},"documentation")," to learn how you can add a ",(0,i.kt)("inlineCode",{parentName:"p"},"delete")," button to the fields on the table and make your application a full-fledged CRUD application. Cheers!"),(0,i.kt)("h2",{id:"conclusion"},"Conclusion"),(0,i.kt)("p",null,"In this article, we introduced refine and looked at how to set up a refine complete CRUD app  project with a third-party UI library - in this case, the Ant design library. Then, we looked at how to create a ",(0,i.kt)("inlineCode",{parentName:"p"},"List")," , ",(0,i.kt)("inlineCode",{parentName:"p"},"Edit")," , and ",(0,i.kt)("inlineCode",{parentName:"p"},"Create")," page for handling CRUD functionalities in our app."),(0,i.kt)("p",null,"We also looked at creating a dynamic form that renders and deletes fields on demand, validates input values, and handles submission using Ant's ",(0,i.kt)("inlineCode",{parentName:"p"},"Form")," component and its sub-components."),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)(c,{path:"blog-refine-antd-dynamic-form",mdxType:"StackblitzExample"}),(0,i.kt)("hr",null))}h.isMDXComponent=!0}}]);